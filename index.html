<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Roleta de Pr√™mios</title>
  <style>
    body { text-align: center; font-family: Arial, sans-serif; background: #f4f4f4; }
    h1 { margin-top: 20px; }
    input, button { margin: 10px; padding: 10px; font-size: 16px; }
    #resultado { font-weight: bold; margin-top: 20px; font-size: 18px; color: #333; }
    .box { background: #fff; padding: 20px; margin: 40px auto; width: 320px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <div class="box">
    <h1>üéÅ Roleta de Pr√™mios</h1>
    <input id="nick" placeholder="Digite seu nick">
    <br>
    <button onclick="girar()">Girar!</button>
    <p id="resultado"></p>
  </div>

  <script>
    // === SUA API DO GOOGLE APPS SCRIPT ===
    const API_URL = "https://script.google.com/macros/s/AKfycbz_qOsdx0avjQZ0Hg6ktnTeYknYAb3x-nmdnHvwVZ0K0KVZSk6QSxuQkMoi2KdPX8wNuQ/exec";

    // === CONFIGURA√á√ÉO DOS PR√äMIOS (ajuste as chances) ===
    const premios = [
      { nome: "Skin rara", chance: 50 },
      { nome: "100 moedas", chance: 30 },
      { nome: "Nada üò¢", chance: 20 }
    ];

    // Sorteio proporcional √†s chances
    function sortearPremio() {
      const total = premios.reduce((acc, p) => acc + p.chance, 0);
      let r = Math.random() * total;
      let acumulado = 0;
      for (const p of premios) {
        acumulado += p.chance;
        if (r <= acumulado) return p.nome;
      }
    }

    async function girar() {
      const nick = document.getElementById("nick").value.trim();
      if (!nick) { alert("Digite seu nick!"); return; }

      const premio = sortearPremio();
      document.getElementById("resultado").innerText = `${nick} ganhou: ${premio}`;

      // Enviar para o Google Sheets
      try {
        await fetch(API_URL, {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: new URLSearchParams({ nick, premio }).toString()
        });
      } catch (e) {
        alert("Erro ao salvar resultado: " + e);
      }
    }
  </script>
</body>
</html>
